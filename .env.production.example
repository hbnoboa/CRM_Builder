# ===========================================
# CRM Builder - Production Environment
# ===========================================
# IMPORTANTE: Copie este arquivo para .env.production
# e preencha com valores reais.
# NUNCA commite .env.production no git!
#
# Para gerar senhas seguras:
#   openssl rand -base64 32
# Para gerar JWT secrets:
#   openssl rand -hex 64
# ===========================================

# =====================
# Banco de Dados
# =====================
# Connection pooling parameters:
#   connection_limit: max connections per Prisma Client instance (default: num_cpus * 2 + 1)
#   pool_timeout: timeout waiting for a connection from the pool (seconds, default: 10)
#   connect_timeout: timeout for establishing a connection (seconds, default: 5)
# For production, adjust based on your database's max_connections setting
DATABASE_URL="postgresql://user:password@host:5432/crm_builder?schema=public&connection_limit=10&pool_timeout=10"

# Optional: Direct URL for migrations (bypasses connection pooler like PgBouncer)
# DIRECT_DATABASE_URL="postgresql://user:password@host:5432/crm_builder?schema=public"

# =====================
# Redis
# =====================
REDIS_URL="redis://host:6379"

# =====================
# JWT
# =====================
JWT_SECRET="sua-chave-secreta-super-segura-de-32-caracteres"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_SECRET="sua-chave-secreta-refresh-super-segura-32-chars"
JWT_REFRESH_EXPIRES_IN="7d"

# =====================
# Rate Limiting
# =====================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# =====================
# API
# =====================
PORT=3001
NODE_ENV=production
API_URL=https://api.seudominio.com

# =====================
# Frontend
# =====================
NEXT_PUBLIC_API_URL=https://api.seudominio.com
NEXT_PUBLIC_APP_URL=https://app.seudominio.com

# =====================
# Google Cloud Storage (Upload de Arquivos)
# =====================
GCS_PROJECT_ID=seu-projeto-gcp
GCS_BUCKET=crm-builder-uploads
GCS_CREDENTIALS={"type":"service_account","project_id":"..."}
# OU use o arquivo de chave localmente:
# GCS_KEY_FILE=/path/to/service-account.json

# =====================
# PowerSync (Sync offline-first para mobile)
# =====================
POWERSYNC_URL=http://seu-servidor:8081

# =====================
# Email (Opcional - para notificações por email)
# =====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASSWORD=sua-senha-app
SMTP_FROM="CRM Builder <noreply@seudominio.com>"
